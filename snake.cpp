#include "snake.h"#include "raylib.h"#include <raymath.h>#include <deque>#include <iostream>#include "globalVariables.h"#include "snake.h"using namespace std;Snake::Snake() {    prevBody = body; }void Snake::Draw() {    // 0..1 value that tells us how far we are between grid moves    float t = (float)((GetTime() - lastUpdateTime) / moveInterval);    if (t < 0.0f) t = 0.0f;    if (t > 1.0f) t = 1.0f;    for (int i = 0; i < (int)body.size(); i++) {        Vector2 fromCell = (i < (int)prevBody.size()) ? prevBody[i] : body[i];        Vector2 toCell   = body[i];        Vector2 cellPos  = Vector2Lerp(fromCell, toCell, t);                Rectangle segment = Rectangle(  offset + cellPos.x * cellSize, offset + cellPos.y * cellSize, (float)cellSize, (float)cellSize);        DrawRectangleRounded(segment, 0.5, 6, darkGreen);        // Eyes on head (optional): keep them attached to the interpolated head rectangle        if (i == 0) {            float r = cellSize * 0.10f;            float inset = cellSize * 0.25f;            float forward = cellSize * 0.15f;            Vector2 center = { segment.x + segment.width * 0.5f, segment.y + segment.height * 0.5f };            Vector2 perp = { -direction.y, direction.x };            Vector2 leftEye  = Vector2Add(center, Vector2Add(Vector2Scale(perp,  inset), Vector2Scale(direction, forward)));            Vector2 rightEye = Vector2Add(center, Vector2Add(Vector2Scale(perp, -inset), Vector2Scale(direction, forward)));            DrawCircleV(leftEye, r, WHITE);            DrawCircleV(rightEye, r, WHITE);            float pr = r * 0.55f;            Vector2 pupilShift = Vector2Scale(direction, r * 0.35f);            DrawCircleV(Vector2Add(leftEye, pupilShift), pr, BLACK);            DrawCircleV(Vector2Add(rightEye, pupilShift), pr, BLACK);        }    }}// Update snake positionvoid Snake::Update() {    prevBody = body;  // capture current positions before moving    if (addSegment == true) {        body.push_front(body[0] + direction); // add head        addSegment = false;    }    else {        body.pop_back(); // remove tail of snake        body.push_front(Vector2Add(body[0], direction)); // add head    }}// Reset snake to initial statevoid Snake::reset() {    body = { Vector2{6,9}, Vector2{5,9}, Vector2{4,9} };    prevBody = body;    direction = {1,0};}